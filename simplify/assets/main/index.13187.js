window.__require=function e(t,o,r){function n(i,s){if(!o[i]){if(!t[i]){var p=i.split("/");if(p=p[p.length-1],!t[p]){var a="function"==typeof __require&&__require;if(!s&&a)return a(p,!0);if(c)return c(p,!0);throw new Error("Cannot find module '"+i+"'")}i=p}var u=o[i]={exports:{}};t[i][0].call(u.exports,function(e){return n(t[i][1][e]||e)},u,u.exports,e,t,o,r)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({AssignButton:[function(e,t,o){"use strict";cc._RF.push(t,"08846wm01lKeoL+L+gbNtFa","AssignButton");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.find("Canvas/Graph").getComponent("Graph").createMode=1})},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],Graph:[function(e,t,o){"use strict";cc._RF.push(t,"6faaf0cLmVGr6gUrzMYRmZ+","Graph");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(){function e(e){this.x_pos=0,this.y_pos=0,this.imgScript=null,this.name="",this.resources=new Array,this.resourceNeedsNumber=new Array,this.resourceGetsNumber=new Array,this.numberLabels=new Array,this.imgScript=e}return e.prototype.setName=function(e){this.name=e,this.imgScript.setName(e)},e.prototype.updatePos=function(e,t){this.x_pos=e,this.y_pos=t,this.imgScript.setPosition(e,t)},e.prototype.get_x=function(){return this.x_pos},e.prototype.get_y=function(){return this.y_pos},e.prototype.getResourceNeed=function(e){return this.resourceNeedsNumber[this.resources.indexOf(e)]},e.prototype.getResourceGet=function(e){return this.resourceGetsNumber[this.resources.indexOf(e)]},e.prototype.requestResource=function(e,t){var o=this.resources.indexOf(e);-1==o?(this.resources.push(e),this.resourceNeedsNumber.push(t),this.resourceGetsNumber.push(0)):this.resourceNeedsNumber[o]+=t},e}(),a=function(){function e(e){this.imgScript=null,this.imgScript=e}return e.prototype.setName=function(e){this.name=e,this.imgScript.setName(e)},e.prototype.updateNumber=function(e){this.left+=e,this.imgScript.updateNumber(e)},e.prototype.updatePos=function(e,t){this.x_pos=e,this.y_pos=t,this.imgScript.setPosition(e,t)},e.prototype.get_x=function(){return this.x_pos},e.prototype.get_y=function(){return this.y_pos},e.prototype.setPosition=function(e,t){this.x_pos=e,this.y_pos=t,this.imgScript.setPosition(e,t)},e.prototype.delieverResource=function(e){this.left=this.left-e},e.prototype.getResource=function(e){this.left+=e},e}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processImg=null,t.resourceImg=null,t.label=null,t.text="hello",t.createMode=0,t.pen=null,t.processes=new Array,t.resources=new Array,t}return r(t,e),t.prototype.assignResource1=function(e,t,o){if(e.left<o)cc.log("\u8d44\u6e90\u4e0d\u8db3\u5206\u914d");else{e.updateNumber(-o);var r=t.resources.indexOf(e);if(-1==r){t.resources.push(e),t.resourceNeedsNumber.push(0),t.resourceGetsNumber.push(o);var n=new cc.Node;n.addComponent(cc.Label),n.getComponent(cc.Label).string=""+o;var c=(e.get_x()+t.get_x())/2,i=(e.get_y()+t.get_y())/2;n.setPosition(c,i),this.node.addChild(n),t.numberLabels.push(n)}else t.resourceGetsNumber[r]+=o,t.numberLabels[r].getComponent(cc.Label).string=""+t.resourceGetsNumber[r];this.updateLines()}},t.prototype.assignResource=function(e,t,o){for(var r=null,n=null,c=0;c<this.resources.length;++c)this.resources[c].imgScript.node!=e&&this.resources[c].imgScript.node!=t||(r=this.resources[c]);for(c=0;c<this.processes.length;++c)this.processes[c].imgScript.node!=e&&this.processes[c].imgScript.node!=t||(n=this.processes[c]);this.assignResource1(r,n,o)},t.prototype.requestResource1=function(e,t,o){if(e.left<o)cc.log("\u8d44\u6e90\u4e0d\u8db3\u5206\u914d");else{var r=t.resources.indexOf(e);if(-1==r){t.resources.push(e),t.resourceNeedsNumber.push(o),t.resourceGetsNumber.push(0);var n=new cc.Node;n.addComponent(cc.Label),n.getComponent(cc.Label).string=""+o;var c=(e.get_x()+t.get_x())/2,i=(e.get_y()+t.get_y())/2;n.setPosition(c,i),this.node.addChild(n),t.numberLabels.push(n)}else t.resourceNeedsNumber[r]+=o,t.numberLabels[r].getComponent(cc.Label).string=""+t.resourceNeedsNumber[r];this.updateLines()}},t.prototype.requestResource=function(e,t,o){for(var r=null,n=null,c=0;c<this.resources.length;++c)this.resources[c].imgScript.node!=e&&this.resources[c].imgScript.node!=t||(r=this.resources[c]);for(c=0;c<this.processes.length;++c)this.processes[c].imgScript.node!=e&&this.processes[c].imgScript.node!=t||(n=this.processes[c]);this.requestResource1(r,n,o)},t.prototype.addProcess=function(e,t,o){var r=cc.instantiate(this.processImg);r.zIndex=1,this.node.addChild(r);var n=new p(r.getComponent("ProcessImg"));n.setName(e),n.updatePos(t,o),this.processes.push(n)},t.prototype.addResource=function(e,t,o,r){var n=cc.instantiate(this.resourceImg);n.zIndex=1;var c=new a(n.getComponent("ResourceImg"));c.setName(e),c.updatePos(o,r),c.updateNumber(t),this.resources.push(c),this.node.addChild(n)},t.prototype.drawRequestLine=function(e,t){var o=e.get_x(),r=e.get_y(),n=t.get_x(),c=t.get_y();this.pen.moveTo(o,r),this.pen.strokeColor=(new cc.Color).fromHEX("#AA3737"),this.pen.lineTo(n,c),this.pen.stroke()},t.prototype.drawAssignLine=function(e,t){var o=e.get_x(),r=e.get_y(),n=t.get_x(),c=t.get_y();this.pen.moveTo(o,r),this.pen.strokeColor=(new cc.Color).fromHEX("#000000"),this.pen.lineTo(n,c),this.pen.stroke()},t.prototype.updateLines=function(){this.pen.clear();for(var e=0;e<this.processes.length;++e)for(var t=this.processes[e],o=0;o<t.resources.length;++o)t.resourceGetsNumber[o]>0?this.drawAssignLine(t.resources[o],t):t.resourceNeedsNumber[o]>0&&this.drawRequestLine(t.resources[o],t)},t.prototype.checkProcess=function(e){if(0==e.resources.length)return!1;for(var t=0;t<e.resources.length;++t)if(e.resourceGetsNumber[t]+e.resources[t].left<e.resourceNeedsNumber[t])return!1;return!0},t.prototype.releaseProcess=function(e,t){var o=e.resourceGetsNumber.pop();e.numberLabels.pop().destroy(),e.resources.pop().updateNumber(o),e.resourceNeedsNumber.pop();var r=t.releaseProcess,n=e,c=t;t.updateLines(),e.resources.length>0&&this.scheduleOnce(function(){r(n,c)},2)},t.prototype.simplify=function(e){for(var t=-1,o=0,r=0;r<e.processes.length;++r)if(e.checkProcess(e.processes[r])){t=r,o=e.processes[r].resources.length;break}if(-1!=t){var n=e.simplify,c=e;e.releaseProcess(e.processes[t],e),e.scheduleOnce(function(){n(c)},o)}},t.prototype.onLoad=function(){this.pen=this.node.getComponent(cc.Graphics),this.pen.lineWidth=10},t.prototype.start=function(){},n([s(cc.Prefab)],t.prototype,"processImg",void 0),n([s(cc.Prefab)],t.prototype,"resourceImg",void 0),n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),n([s(cc.Graphics)],t.prototype,"pen",void 0),t=n([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],LineCreator:[function(e,t,o){"use strict";cc._RF.push(t,"697825QpjROMbPUaHWnky4C","LineCreator");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.graphScript=null,t.numberInput=null,t.pen=null,t.startNode=null,t.endNode=null,t}return r(t,e),t.prototype.onLoad=function(){this.pen=this.node.getComponent(cc.Graphics),this.pen.lineWidth=10,this.graphScript=cc.find("Canvas/Graph").getComponent("Graph"),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){if(0!=this.penMode){var t=this.startNode.x,o=this.startNode.y,r=e.getLocationX()-800,n=e.getLocationY()-450;this.drawLine(t,o,r,n)}},this)},t.prototype.setBlackColor=function(){this.pen.strokeColor=cc.Color.BLACK},t.prototype.setPenMode=function(e){this.penMode=e},t.prototype.setRedColor=function(){this.pen.strokeColor=(new cc.Color).fromHEX("#AA3737")},t.prototype.start=function(){},t.prototype.createLine=function(){this.penMode=0;var e=cc.instantiate(this.numberInput),t=e.getChildByName("commit");e.zIndex=100,cc.find("Canvas").addChild(e),t.on(cc.Node.EventType.TOUCH_END,function(){var t=+e.getChildByName("editBox").getComponent(cc.EditBox).string;t>0&&(10==this.graphScript.createMode||11==this.graphScript.createMode?(this.graphScript.assignResource(this.startNode,this.endNode,t),this.graphScript.createMode=0):20!=this.graphScript.createMode&&21!=this.graphScript.createMode||(this.graphScript.requestResource(this.startNode,this.endNode,t),this.graphScript.createMode=0),e.destroy())},this)},t.prototype.drawLine=function(e,t,o,r){this.pen.clear(),this.pen.moveTo(e,t),this.pen.lineTo(o,r),this.pen.stroke()},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),n([s],t.prototype,"penMode",void 0),n([s(cc.Prefab)],t.prototype,"numberInput",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ProcessCreator:[function(e,t,o){"use strict";cc._RF.push(t,"b31d25bKWFF8I2jNGPZ1n10","ProcessCreator");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.nameInput=null,t.text="hello",t.graphScript=null,t.isCreating=!1,t}return r(t,e),t.prototype.createProcess=function(e,t){var o=cc.instantiate(this.nameInput);o.scale=1,o.zIndex=100,o.x=0,o.y=0,cc.find("Canvas").addChild(o),cc.log("\u8f93\u5165\u6846:x"+o.x+"y:"+o.y),this.isCreating=!0,o.getComponent("ProcessInput").x=e,o.getComponent("ProcessInput").y=t,cc.log(e),cc.log(t)},t.prototype.getProcessName=function(){},t.prototype.setProcessName=function(e){this.processName=e},t.prototype.onLoad=function(){this.graphScript=cc.find("Canvas/Graph").getComponent("Graph")},t.prototype.start=function(){},n([s(cc.Label)],t.prototype,"label",void 0),n([s(cc.Prefab)],t.prototype,"nameInput",void 0),n([s],t.prototype,"text",void 0),n([s(cc.Component)],t.prototype,"graphScript",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ProcessImgStalker:[function(e,t,o){"use strict";cc._RF.push(t,"f01faa4u/FLf5lrVP0P6acb","ProcessImgStalker");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.creatorScript=null,t}return r(t,e),t.prototype.onLoad=function(){this.creatorScript=cc.find("Canvas/toolsBar/ProcessCreator").getComponent("ProcessCreator"),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=this.node;t.opacity=100;var o=e.touch.getDelta();t.x+=o.x,t.y+=o.y},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){if(this.node.x<-523)return this.node.x=-700,void(this.node.y=360);this.creatorScript.createProcess(this.node.x,this.node.y)},this)},t.prototype.start=function(){},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ProcessImg:[function(e,t,o){"use strict";cc._RF.push(t,"8ed11nMI5dKGp2MvKoJ+H/y","ProcessImg");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.graphScript=null,t.pen=null,t.lineCreator=null,t}return r(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas/Graph");this.graphScript=e.getComponent("Graph"),this.lineCreator=cc.find("Canvas/LineCreator").getComponent("LineCreator"),this.node.on(cc.Node.EventType.TOUCH_END,function(){switch(cc.log("\u88ab\u70b9\u51fb"),this.graphScript.createMode){case 1:this.lineCreator.startNode=this.node,this.lineCreator.setPenMode(1),this.lineCreator.setBlackColor(),this.graphScript.createMode=10;break;case 2:this.lineCreator.startNode=this.node,this.lineCreator.setPenMode(2),this.lineCreator.setRedColor(),this.graphScript.createMode=20;break;case 21:case 11:this.lineCreator.endNode=this.node,this.lineCreator.pen.clear(),this.lineCreator.createLine()}},this)},t.prototype.start=function(){cc.log("\u8fdb\u7a0b\u56fe"+this.node.z)},t.prototype.disappear=function(){cc.tween(this.node.getChildByName("background")).to(.6,{opacity:0},{easing:"cubicOut"}).start(),cc.tween(this.node.getChildByName("name")).to(.6,{opacity:0},{easing:"cubicOut"}).start()},t.prototype.appear=function(){cc.tween(this.node.getChildByName("background")).to(.6,{opacity:255},{easing:"cubicOut"}).start(),cc.tween(this.node.getChildByName("name")).to(.6,{opacity:255},{easing:"cubicOut"}).start()},t.prototype.setPosition=function(e,t){this.node.setPosition(e,t)},t.prototype.setName=function(e){this.node.getChildByName("name").getChildByName("nameLabel").getComponent(cc.Label).string=e},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),n([s(cc.Component)],t.prototype,"graphScript",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ProcessInput:[function(e,t,o){"use strict";cc._RF.push(t,"2ddd4d7N9xD6IHNGfQ6Pkhm","ProcessInput");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.x=0,t.y=0,t}return r(t,e),t.prototype.start=function(){this.node.getChildByName("commit").on(cc.Node.EventType.TOUCH_END,function(){var e=this.node.getChildByName("editBox").getComponent(cc.EditBox).string;cc.find("Canvas/Graph").getComponent("Graph").addProcess(e,this.x,this.y);var t=cc.find("Canvas/ProcessImgStalker");t.x=-700,t.y=360,this.node.destroy()},this)},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],RequestButton:[function(e,t,o){"use strict";cc._RF.push(t,"c49baXclQVA2reB28Aaw0oq","RequestButton");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.find("Canvas/Graph").getComponent("Graph").createMode=2})},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResourceCreator:[function(e,t,o){"use strict";cc._RF.push(t,"5628eUYzIxBErz+6aQvfhDQ","ResourceCreator");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.nameInput=null,t.graphScript=null,t.isCreating=!1,t}return r(t,e),t.prototype.createResource=function(e,t){var o=cc.instantiate(this.nameInput);o.scale=1,o.zIndex=10,o.x=0,o.y=0,cc.find("Canvas").addChild(o),cc.log("\u8f93\u5165\u6846:x"+o.x+"y:"+o.y),this.isCreating=!0,o.getComponent("ResourceInput").x=e,o.getComponent("ResourceInput").y=t,cc.log(e),cc.log(t)},t.prototype.onLoad=function(){this.graphScript=cc.find("Canvas/Graph").getComponent("Graph")},t.prototype.start=function(){},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),n([s(cc.Prefab)],t.prototype,"nameInput",void 0),n([s(cc.Component)],t.prototype,"graphScript",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResourceImgStalker:[function(e,t,o){"use strict";cc._RF.push(t,"8ad84wUpkdEaatBHnjxkD0V","ResourceImgStalker");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.creatorScript=null,t}return r(t,e),t.prototype.onLoad=function(){this.creatorScript=cc.find("Canvas/toolsBar/ResourceCreator").getComponent("ResourceCreator"),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=this.node;t.opacity=100;var o=e.touch.getDelta();t.x+=o.x,t.y+=o.y},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){if(this.node.x<-523)return this.node.x=-700,void(this.node.y=215);this.creatorScript.createResource(this.node.x,this.node.y)},this)},t.prototype.start=function(){},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResourceImg:[function(e,t,o){"use strict";cc._RF.push(t,"5ac384ZThJNA7ey9kR2q1Zg","ResourceImg");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.lineCreator=null,t.graphScript=null,t}return r(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas/Graph");this.graphScript=e.getComponent("Graph"),this.lineCreator=cc.find("Canvas/LineCreator").getComponent("LineCreator"),this.node.on(cc.Node.EventType.TOUCH_END,function(){switch(cc.log("\u88ab\u70b9\u51fb"),this.graphScript.createMode){case 1:this.lineCreator.startNode=this.node,this.lineCreator.setPenMode(1),this.lineCreator.setBlackColor(),this.graphScript.createMode=11;break;case 2:this.lineCreator.startNode=this.node,this.lineCreator.setPenMode(2),this.lineCreator.setRedColor(),this.graphScript.createMode=21;break;case 10:case 20:this.lineCreator.endNode=this.node,this.lineCreator.pen.clear(),this.lineCreator.createLine()}},this)},t.prototype.start=function(){},t.prototype.disappear=function(){cc.tween(this.node.getChildByName("background")).to(.6,{opacity:0},{easing:"cubicOut"}).start(),cc.tween(this.node.getChildByName("name")).to(.6,{opacity:0},{easing:"cubicOut"}).start()},t.prototype.appear=function(){cc.tween(this.node.getChildByName("background")).to(.6,{opacity:255},{easing:"cubicOut"}).start(),cc.tween(this.node.getChildByName("name")).to(.6,{opacity:255},{easing:"cubicOut"}).start()},t.prototype.updateNumber=function(e){var t=+this.node.getChildByName("left").getChildByName("number").getComponent(cc.Label).string;t+=e,this.node.getChildByName("left").getChildByName("number").getComponent(cc.Label).string=t.toString()},t.prototype.setName=function(e){this.node.getChildByName("name").getComponent(cc.Label).string=e},t.prototype.setPosition=function(e,t){this.node.setPosition(e,t)},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ResourceInput:[function(e,t,o){"use strict";cc._RF.push(t,"43502UxyzpM+KlagmyY9FmS","ResourceInput");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){this.node.getChildByName("commit").on(cc.Node.EventType.TOUCH_END,function(){var e=this.node.getChildByName("name").getChildByName("editBox").getComponent(cc.EditBox).string,t=+this.node.getChildByName("number").getChildByName("editBox").getComponent(cc.EditBox).string;cc.find("Canvas/Graph").getComponent("Graph").addResource(e,t,this.x,this.y);var o=cc.find("Canvas/ResourceImgStalker");o.x=-700,o.y=215,this.node.destroy()},this)},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],SimplifyButton:[function(e,t,o){"use strict";cc._RF.push(t,"6654fL1qipAOY8i1osgREJ8","SimplifyButton");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,c=arguments.length,i=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(i=(c<3?n(i):c>3?n(t,o,i):n(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas/Graph").getComponent("Graph");this.node.on(cc.Node.EventType.TOUCH_END,function(){e.simplify(e)})},t.prototype.start=function(){},n([s(cc.Label)],t.prototype,"label",void 0),n([s],t.prototype,"text",void 0),t=n([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["AssignButton","Graph","LineCreator","ProcessCreator","ProcessImg","ProcessImgStalker","ProcessInput","RequestButton","ResourceCreator","ResourceImg","ResourceImgStalker","ResourceInput","SimplifyButton"]);